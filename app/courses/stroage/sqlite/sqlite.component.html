<ActionBar title="Sqlite">
    <ActionItem text="刷新" ios.position="right" (tap)="fetchPersons()"></ActionItem>
    <ActionItem text="首页" ios.position="right" [nsRouterLink]="['/courses']" pageTransition="flipRight"
                clearHistory="true"></ActionItem>
</ActionBar>

<GridLayout rows="auto *" class="p-20">
    <StackLayout row="0" class="form">
        <GridLayout rows="auto auto" columns="* *">
            <StackLayout class="input-field" row="0" col="0">
                <Label text="姓名:" class="label"></Label>
                <TextField class="input input-border " [(ngModel)]="model.name"></TextField>
            </StackLayout>
            <StackLayout class="input-field" row="0" col="1">
                <Label text="年龄:" class="label"></Label>
                <TextField class="input input-border" [(ngModel)]="model.age"></TextField>
            </StackLayout>
            <StackLayout row="1" colspan="2">
                <Button class="btn btn-primary btn-rounded-sm submit-button" text="添加" (tap)="addPerson()"></Button>
            </StackLayout>
        </GridLayout>
    </StackLayout>
    <GridLayout row="1" rows="auto *" class="p-20">
        <GridLayout row="0" rows="auto" columns="* * * *" class="list-group-item text-center">
            <Label row="0" col="0" class="list-group-item-text" text="编号"></Label>
            <Label row="0" col="1" class="list-group-item-text" text="姓名"></Label>
            <Label row="0" col="2" class="list-group-item-text" text="年龄"></Label>
            <Label row="0" col="3" class="list-group-item-text" text="操作"></Label>
        </GridLayout>
        <ScrollView row="1">
            <ListView class="list-group" [items]="persons">
                <template let-person="item">
                    <GridLayout rows="auto" columns="auto * auto auto" class="list-group-item text-center">
                        <Label row="0" col="0" class="list-group-item-text" [text]="person.id"></Label>
                        <Label row="0" col="1" class="list-group-item-text" [text]="person.name"></Label>
                        <Label row="0" col="2" class="list-group-item-text" [text]="person.age"></Label>
                        <Button row="0" col="3" class="btn btn-outline pull-right" text="删除"
                                (tap)="removePerson(person.id)"></Button>
                    </GridLayout>
                </template>
            </ListView>
        </ScrollView>
    </GridLayout>
</GridLayout>
